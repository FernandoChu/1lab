<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>1Lab.Univalence.SIP.Auto</title><link rel="stylesheet" href="/css/agda-cats.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="1Lab.Univalence.SIP.html" class="Module">1Lab.Univalence.SIP</a>
<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="1Lab.Reflection.html" class="Module">1Lab.Reflection</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="1Lab.Type.Sigma.html" class="Module">1Lab.Type.Sigma</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="1Lab.Univalence.html" class="Module">1Lab.Univalence</a>
<a id="117" class="Keyword">open</a> <a id="122" class="Keyword">import</a> <a id="129" href="1Lab.Equiv.html" class="Module">1Lab.Equiv</a>
<a id="140" class="Keyword">open</a> <a id="145" class="Keyword">import</a> <a id="152" href="1Lab.Path.html" class="Module">1Lab.Path</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="1Lab.Type.html" class="Module">1Lab.Type</a>

<a id="185" class="Keyword">module</a> <a id="192" href="1Lab.Univalence.SIP.Auto.html" class="Module">1Lab.Univalence.SIP.Auto</a> <a id="217" class="Keyword">where</a>

<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a>
  <a id="262" class="Keyword">renaming</a> <a id="271" class="Symbol">(</a> <a data-type="TC A → (A → TC B) → TC B" id="273" href="Agda.Builtin.Reflection.html#8311" class="Postulate">bindTC</a> <a id="280" class="Symbol">to</a> <a id="283" class="Postulate">_&gt;&gt;=_</a>
           <a id="300" class="Symbol">;</a> <a data-type="TC A → TC A → TC A" id="302" href="Agda.Builtin.Reflection.html#8645" class="Postulate">catchTC</a> <a id="310" class="Symbol">to</a> <a id="313" class="Keyword">infixr</a> <a id="320" class="Number">8</a> <a id="322" class="Postulate">_&lt;|&gt;_</a>
           <a id="339" class="Symbol">)</a>
  <a id="343" class="Keyword">hiding</a> <a id="350" class="Symbol">(</a><a data-type="Type" id="351" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="355" class="Symbol">)</a>

<a id="makeAutoStrTm"></a><a data-type="Nat → Term → TC ⊤" id="358" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a id="372" class="Symbol">:</a> <a data-type="Type" id="374" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="378" class="Symbol">→</a> <a data-type="Type" id="380" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="385" class="Symbol">→</a> <a data-type="Type a → Type a" id="387" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a data-type="Type" id="390" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a data-type="Nat → Term → TC ⊤" id="392" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a data-type="Nat" id="406" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="411" href="1Lab.Univalence.SIP.Auto.html#411" class="Bound">t</a> <a id="413" class="Symbol">=</a> <a data-type="List ErrorPart → TC A" id="415" href="Agda.Builtin.Reflection.html#8431" class="Postulate">typeError</a> <a id="425" class="Symbol">(</a><a data-type="String → ErrorPart" id="426" href="Agda.Builtin.Reflection.html#7917" class="InductiveConstructor">strErr</a> <a id="433" class="String">&quot;autoDesc ran out of fuel&quot;</a> <a data-type="A → List A → List A" id="460" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a data-type="List A" id="462" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="464" class="Symbol">)</a>
<a data-type="Nat → Term → TC ⊤" id="466" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a id="480" class="Symbol">(</a><a data-type="Nat → Nat" id="481" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="485" href="1Lab.Univalence.SIP.Auto.html#485" class="Bound">n</a><a id="486" class="Symbol">)</a> <a id="488" href="1Lab.Univalence.SIP.Auto.html#488" class="Bound">t</a> <a id="490" class="Symbol">=</a>
  <a id="494" href="1Lab.Univalence.SIP.Auto.html#588" class="Function">tryPoint</a>
    <a id="507" href="1Lab.Univalence.SIP.Auto.html#322" class="Postulate Operator">&lt;|&gt;</a> <a id="511" href="1Lab.Univalence.SIP.Auto.html#641" class="Function">tryBin</a> <a id="518" class="Symbol">(</a><a id="519" class="Keyword">quote</a> <a data-type="StrTm ℓ ℓ₁ S₁ → StrTm ℓ ℓ₂ T → StrTm ℓ (ℓ₁ ⊔ ℓ₂) (λ X → S₁ X → T X)" id="525" href="1Lab.Univalence.SIP.html#24126" class="InductiveConstructor Operator">_s→_</a><a id="529" class="Symbol">)</a>
    <a id="535" href="1Lab.Univalence.SIP.Auto.html#322" class="Postulate Operator">&lt;|&gt;</a> <a id="539" href="1Lab.Univalence.SIP.Auto.html#641" class="Function">tryBin</a> <a id="546" class="Symbol">(</a><a id="547" class="Keyword">quote</a> <a data-type="StrTm ℓ ℓ₁ S₁ → StrTm ℓ ℓ₂ T → StrTm ℓ (ℓ₁ ⊔ ℓ₂) (λ X → S₁ X × T X)" id="553" href="1Lab.Univalence.SIP.html#24224" class="InductiveConstructor Operator">_s×_</a><a id="557" class="Symbol">)</a>
    <a id="563" href="1Lab.Univalence.SIP.Auto.html#322" class="Postulate Operator">&lt;|&gt;</a> <a id="567" href="1Lab.Univalence.SIP.Auto.html#846" class="Function">useConst</a>
  <a id="578" class="Keyword">where</a>
    <a id="588" href="1Lab.Univalence.SIP.Auto.html#588" class="Function">tryPoint</a> <a id="597" class="Symbol">=</a> <a id="599" class="Keyword">do</a>
      <a data-type="Term → Term → TC ⊤" id="608" href="Agda.Builtin.Reflection.html#8391" class="Postulate">unify</a> <a id="614" href="1Lab.Univalence.SIP.Auto.html#488" class="Bound">t</a> <a id="616" class="Symbol">(</a><a data-type="Name → List (Arg Term) → Term" id="617" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="621" class="Symbol">(</a><a id="622" class="Keyword">quote</a> <a data-type="StrTm ℓ ℓ (λ X → X)" id="628" href="1Lab.Univalence.SIP.html#24094" class="InductiveConstructor">s∙</a><a id="630" class="Symbol">)</a> <a data-type="List A" id="632" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="634" class="Symbol">)</a>

    <a id="641" href="1Lab.Univalence.SIP.Auto.html#641" class="Function">tryBin</a> <a id="648" class="Symbol">:</a> <a data-type="Type" id="650" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="655" class="Symbol">→</a> <a data-type="Type a → Type a" id="657" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a data-type="Type" id="660" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="666" href="1Lab.Univalence.SIP.Auto.html#641" class="Function">tryBin</a> <a id="673" href="1Lab.Univalence.SIP.Auto.html#673" class="Bound">namen</a> <a id="679" class="Symbol">=</a> <a id="681" class="Keyword">do</a>
      <a id="690" href="1Lab.Univalence.SIP.Auto.html#690" class="Bound">h1</a> <a id="693" href="1Lab.Univalence.SIP.Auto.html#283" class="Postulate Operator">←</a> <a data-type="Term → TC Term" id="695" href="1Lab.Reflection.html#844" class="Function">newMeta</a> <a data-type="Term" id="703" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>
      <a id="717" href="1Lab.Univalence.SIP.Auto.html#717" class="Bound">h2</a> <a id="720" href="1Lab.Univalence.SIP.Auto.html#283" class="Postulate Operator">←</a> <a data-type="Term → TC Term" id="722" href="1Lab.Reflection.html#844" class="Function">newMeta</a> <a data-type="Term" id="730" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>
      <a data-type="⊤" id="744" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="747" href="1Lab.Univalence.SIP.Auto.html#283" class="Postulate Operator">←</a> <a data-type="Term → Term → TC ⊤" id="749" href="Agda.Builtin.Reflection.html#8391" class="Postulate">unify</a> <a id="755" class="Symbol">(</a><a data-type="Name → List (Arg Term) → Term" id="756" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="760" href="1Lab.Univalence.SIP.Auto.html#673" class="Bound">namen</a> <a id="766" class="Symbol">(</a><a id="767" href="1Lab.Univalence.SIP.Auto.html#690" class="Bound">h1</a> <a id="770" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a id="773" href="1Lab.Univalence.SIP.Auto.html#717" class="Bound">h2</a> <a id="776" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a data-type="List A" id="779" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="781" class="Symbol">))</a> <a id="784" href="1Lab.Univalence.SIP.Auto.html#488" class="Bound">t</a>
      <a data-type="⊤" id="792" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="795" href="1Lab.Univalence.SIP.Auto.html#283" class="Postulate Operator">←</a> <a data-type="Nat → Term → TC ⊤" id="797" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a id="811" href="1Lab.Univalence.SIP.Auto.html#485" class="Bound">n</a> <a id="813" href="1Lab.Univalence.SIP.Auto.html#690" class="Bound">h1</a>
      <a data-type="Nat → Term → TC ⊤" id="822" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a id="836" href="1Lab.Univalence.SIP.Auto.html#485" class="Bound">n</a> <a id="838" href="1Lab.Univalence.SIP.Auto.html#717" class="Bound">h2</a>

    <a id="846" href="1Lab.Univalence.SIP.Auto.html#846" class="Function">useConst</a> <a id="855" class="Symbol">=</a> <a id="857" class="Keyword">do</a>
      <a data-type="Term → Term → TC ⊤" id="866" href="Agda.Builtin.Reflection.html#8391" class="Postulate">unify</a> <a id="872" href="1Lab.Univalence.SIP.Auto.html#488" class="Bound">t</a> <a id="874" class="Symbol">(</a><a data-type="Name → List (Arg Term) → Term" id="875" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="879" class="Symbol">(</a><a id="880" class="Keyword">quote</a> <a data-type="(A : Type ℓ₁) → StrTm ℓ ℓ₁ (λ X → A)" id="886" href="1Lab.Univalence.SIP.html#24038" class="InductiveConstructor">s-const</a><a id="893" class="Symbol">)</a> <a id="895" class="Symbol">(</a><a data-type="Term" id="896" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a> <a id="904" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a data-type="List A" id="907" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="909" class="Symbol">))</a>

<a id="913" class="Keyword">macro</a>
  <a id="autoStrTm"></a><a data-type="Term → TC ⊤" id="921" href="1Lab.Univalence.SIP.Auto.html#921" class="Function">autoStrTm</a> <a id="931" class="Symbol">:</a> <a data-type="Type" id="933" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="938" class="Symbol">→</a> <a data-type="Type a → Type a" id="940" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a data-type="Type" id="943" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a data-type="Term → TC ⊤" id="947" href="1Lab.Univalence.SIP.Auto.html#921" class="Function">autoStrTm</a> <a id="957" class="Symbol">=</a> <a data-type="Nat → Term → TC ⊤" id="959" href="1Lab.Univalence.SIP.Auto.html#358" class="Function">makeAutoStrTm</a> <a id="973" class="Number">100</a>
</pre></body></html>
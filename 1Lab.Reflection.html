<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>1Lab.Reflection</title><link rel="stylesheet" href="/css/agda-cats.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="1Lab.Type.Sigma.html" class="Module">1Lab.Type.Sigma</a>
<a id="29" class="Keyword">open</a> <a id="34" class="Keyword">import</a> <a id="41" href="1Lab.Equiv.html" class="Module">1Lab.Equiv</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="1Lab.Type.html" class="Module">1Lab.Type</a>

<a id="75" class="Keyword">module</a> <a id="82" href="1Lab.Reflection.html" class="Module">1Lab.Reflection</a> <a id="98" class="Keyword">where</a>

<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a> <a id="135" class="Keyword">public</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a> <a id="174" class="Keyword">public</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a>
  <a id="219" class="Keyword">renaming</a> <a id="228" class="Symbol">(</a> <a data-type="TC A → (A → TC B) → TC B" id="230" href="Agda.Builtin.Reflection.html#8311" class="Postulate">bindTC</a> <a id="237" class="Symbol">to</a> <a id="240" class="Postulate">_&gt;&gt;=_</a>
           <a id="257" class="Symbol">;</a> <a data-type="TC A → TC A → TC A" id="259" href="Agda.Builtin.Reflection.html#8645" class="Postulate">catchTC</a> <a id="267" class="Symbol">to</a> <a id="270" class="Keyword">infixl</a> <a id="277" class="Number">8</a> <a id="279" class="Postulate">_&lt;|&gt;_</a>
           <a id="296" class="Symbol">)</a>
  <a id="300" class="Keyword">hiding</a> <a id="307" class="Symbol">(</a><a data-type="Type" id="308" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="312" class="Symbol">)</a>
  <a id="316" class="Keyword">public</a>

<a id="Fun"></a><a data-type="Type ℓ → Type ℓ&#39; → Type (ℓ ⊔ ℓ&#39;)" id="324" href="1Lab.Reflection.html#324" class="Function">Fun</a> <a id="328" class="Symbol">:</a> <a id="330" class="Symbol">∀</a> <a id="332" class="Symbol">{</a><a id="333" href="1Lab.Reflection.html#333" class="Bound">ℓ</a> <a id="335" href="1Lab.Reflection.html#335" class="Bound">ℓ&#39;</a><a id="337" class="Symbol">}</a> <a id="339" class="Symbol">→</a> <a id="341" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="346" href="1Lab.Reflection.html#333" class="Bound">ℓ</a> <a id="348" class="Symbol">→</a> <a id="350" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="355" href="1Lab.Reflection.html#335" class="Bound">ℓ&#39;</a> <a id="358" class="Symbol">→</a> <a id="360" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="365" class="Symbol">(</a><a id="366" href="1Lab.Reflection.html#333" class="Bound">ℓ</a> <a data-type="Level → Level → Level" id="368" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="370" href="1Lab.Reflection.html#335" class="Bound">ℓ&#39;</a><a id="372" class="Symbol">)</a>
<a data-type="Type ℓ → Type ℓ&#39; → Type (ℓ ⊔ ℓ&#39;)" id="374" href="1Lab.Reflection.html#324" class="Function">Fun</a> <a id="378" href="1Lab.Reflection.html#378" class="Bound">A</a> <a id="380" href="1Lab.Reflection.html#380" class="Bound">B</a> <a id="382" class="Symbol">=</a> <a id="384" href="1Lab.Reflection.html#378" class="Bound">A</a> <a id="386" class="Symbol">→</a> <a id="388" href="1Lab.Reflection.html#380" class="Bound">B</a>

<a id="idfun"></a><a data-type="(A : Type ℓ) → A → A" id="391" href="1Lab.Reflection.html#391" class="Function">idfun</a> <a id="397" class="Symbol">:</a> <a id="399" class="Symbol">∀</a> <a id="401" class="Symbol">{</a><a id="402" href="1Lab.Reflection.html#402" class="Bound">ℓ</a><a id="403" class="Symbol">}</a> <a id="405" class="Symbol">(</a><a id="406" href="1Lab.Reflection.html#406" class="Bound">A</a> <a id="408" class="Symbol">:</a> <a id="410" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="415" href="1Lab.Reflection.html#402" class="Bound">ℓ</a><a id="416" class="Symbol">)</a> <a id="418" class="Symbol">→</a> <a id="420" href="1Lab.Reflection.html#406" class="Bound">A</a> <a id="422" class="Symbol">→</a> <a id="424" href="1Lab.Reflection.html#406" class="Bound">A</a>
<a data-type="(A : Type ℓ) → A → A" id="426" href="1Lab.Reflection.html#391" class="Function">idfun</a> <a id="432" href="1Lab.Reflection.html#432" class="Bound">A</a> <a id="434" href="1Lab.Reflection.html#434" class="Bound">x</a> <a id="436" class="Symbol">=</a> <a id="438" href="1Lab.Reflection.html#434" class="Bound">x</a>

<a id="equivFun"></a><a data-type="A ≃ B → A → B" id="441" href="1Lab.Reflection.html#441" class="Function">equivFun</a> <a id="450" class="Symbol">:</a> <a id="452" class="Symbol">∀</a> <a id="454" class="Symbol">{</a><a id="455" href="1Lab.Reflection.html#455" class="Bound">ℓ</a> <a id="457" href="1Lab.Reflection.html#457" class="Bound">ℓ&#39;</a><a id="459" class="Symbol">}</a> <a id="461" class="Symbol">{</a><a id="462" href="1Lab.Reflection.html#462" class="Bound">A</a> <a id="464" class="Symbol">:</a> <a id="466" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="471" href="1Lab.Reflection.html#455" class="Bound">ℓ</a><a id="472" class="Symbol">}</a> <a id="474" class="Symbol">{</a><a id="475" href="1Lab.Reflection.html#475" class="Bound">B</a> <a id="477" class="Symbol">:</a> <a id="479" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="484" href="1Lab.Reflection.html#457" class="Bound">ℓ&#39;</a><a id="486" class="Symbol">}</a> <a id="488" class="Symbol">→</a> <a id="490" href="1Lab.Reflection.html#462" class="Bound">A</a> <a data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" id="492" href="1Lab.Equiv.html#2442" class="Function Operator">≃</a> <a id="494" href="1Lab.Reflection.html#475" class="Bound">B</a> <a id="496" class="Symbol">→</a> <a id="498" href="1Lab.Reflection.html#462" class="Bound">A</a> <a id="500" class="Symbol">→</a> <a id="502" href="1Lab.Reflection.html#475" class="Bound">B</a>
<a data-type="A ≃ B → A → B" id="504" href="1Lab.Reflection.html#441" class="Function">equivFun</a> <a id="513" class="Symbol">(</a><a id="514" href="1Lab.Reflection.html#514" class="Bound">f</a> <a data-type="(fst₁ : A) (snd₁ : B fst₁) → ∑ A B" id="516" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="518" href="1Lab.Reflection.html#518" class="Bound">e</a><a id="519" class="Symbol">)</a> <a id="521" class="Symbol">=</a> <a id="523" href="1Lab.Reflection.html#514" class="Bound">f</a>

<a id="equivInv"></a><a data-type="A ≃ B → B → A" id="526" href="1Lab.Reflection.html#526" class="Function">equivInv</a> <a id="535" class="Symbol">:</a> <a id="537" class="Symbol">∀</a> <a id="539" class="Symbol">{</a><a id="540" href="1Lab.Reflection.html#540" class="Bound">ℓ</a> <a id="542" href="1Lab.Reflection.html#542" class="Bound">ℓ&#39;</a><a id="544" class="Symbol">}</a> <a id="546" class="Symbol">{</a><a id="547" href="1Lab.Reflection.html#547" class="Bound">A</a> <a id="549" class="Symbol">:</a> <a id="551" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="556" href="1Lab.Reflection.html#540" class="Bound">ℓ</a><a id="557" class="Symbol">}</a> <a id="559" class="Symbol">{</a><a id="560" href="1Lab.Reflection.html#560" class="Bound">B</a> <a id="562" class="Symbol">:</a> <a id="564" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="569" href="1Lab.Reflection.html#542" class="Bound">ℓ&#39;</a><a id="571" class="Symbol">}</a> <a id="573" class="Symbol">→</a> <a id="575" href="1Lab.Reflection.html#547" class="Bound">A</a> <a data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" id="577" href="1Lab.Equiv.html#2442" class="Function Operator">≃</a> <a id="579" href="1Lab.Reflection.html#560" class="Bound">B</a> <a id="581" class="Symbol">→</a> <a id="583" href="1Lab.Reflection.html#560" class="Bound">B</a> <a id="585" class="Symbol">→</a> <a id="587" href="1Lab.Reflection.html#547" class="Bound">A</a>
<a data-type="A ≃ B → B → A" id="589" href="1Lab.Reflection.html#526" class="Function">equivInv</a> <a id="598" class="Symbol">(</a><a id="599" href="1Lab.Reflection.html#599" class="Bound">f</a> <a data-type="(fst₁ : A) (snd₁ : B fst₁) → ∑ A B" id="601" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="603" href="1Lab.Reflection.html#603" class="Bound">e</a><a id="604" class="Symbol">)</a> <a id="606" class="Symbol">=</a> <a data-type="isEquiv f → B → A" id="608" href="1Lab.Equiv.html#6391" class="Function">equiv→inverse</a> <a id="622" href="1Lab.Reflection.html#603" class="Bound">e</a>

<a id="equivSec"></a><a data-type="(e : A ≃ B) (x : B) → e .fst (equiv→inverse (e .snd) x) ≡ x" id="625" href="1Lab.Reflection.html#625" class="Function">equivSec</a> <a id="634" class="Symbol">:</a> <a id="636" class="Symbol">∀</a> <a id="638" class="Symbol">{</a><a id="639" href="1Lab.Reflection.html#639" class="Bound">ℓ</a> <a id="641" href="1Lab.Reflection.html#641" class="Bound">ℓ&#39;</a><a id="643" class="Symbol">}</a> <a id="645" class="Symbol">{</a><a id="646" href="1Lab.Reflection.html#646" class="Bound">A</a> <a id="648" class="Symbol">:</a> <a id="650" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="655" href="1Lab.Reflection.html#639" class="Bound">ℓ</a><a id="656" class="Symbol">}</a> <a id="658" class="Symbol">{</a><a id="659" href="1Lab.Reflection.html#659" class="Bound">B</a> <a id="661" class="Symbol">:</a> <a id="663" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="668" href="1Lab.Reflection.html#641" class="Bound">ℓ&#39;</a><a id="670" class="Symbol">}</a> <a id="672" class="Symbol">(</a><a id="673" href="1Lab.Reflection.html#673" class="Bound">e</a> <a id="675" class="Symbol">:</a> <a id="677" href="1Lab.Reflection.html#646" class="Bound">A</a> <a data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" id="679" href="1Lab.Equiv.html#2442" class="Function Operator">≃</a> <a id="681" href="1Lab.Reflection.html#659" class="Bound">B</a><a id="682" class="Symbol">)</a>
         <a id="693" class="Symbol">→</a> <a id="695" class="Symbol">_</a>
<a data-type="(e : A ≃ B) (x : B) → e .fst (equiv→inverse (e .snd) x) ≡ x" id="697" href="1Lab.Reflection.html#625" class="Function">equivSec</a> <a id="706" class="Symbol">(</a><a id="707" href="1Lab.Reflection.html#707" class="Bound">f</a> <a data-type="(fst₁ : A) (snd₁ : B fst₁) → ∑ A B" id="709" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="711" href="1Lab.Reflection.html#711" class="Bound">e</a><a id="712" class="Symbol">)</a> <a id="714" class="Symbol">=</a> <a data-type="(eqv : isEquiv f) → isRightInverse (equiv→inverse eqv) f" id="716" href="1Lab.Equiv.html#6488" class="Function">equiv→section</a> <a id="730" href="1Lab.Reflection.html#711" class="Bound">e</a>

<a id="equivRet"></a><a data-type="(e : A ≃ B) (x : A) → equiv→inverse (e .snd) (e .fst x) ≡ x" id="733" href="1Lab.Reflection.html#733" class="Function">equivRet</a> <a id="742" class="Symbol">:</a> <a id="744" class="Symbol">∀</a> <a id="746" class="Symbol">{</a><a id="747" href="1Lab.Reflection.html#747" class="Bound">ℓ</a> <a id="749" href="1Lab.Reflection.html#749" class="Bound">ℓ&#39;</a><a id="751" class="Symbol">}</a> <a id="753" class="Symbol">{</a><a id="754" href="1Lab.Reflection.html#754" class="Bound">A</a> <a id="756" class="Symbol">:</a> <a id="758" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="763" href="1Lab.Reflection.html#747" class="Bound">ℓ</a><a id="764" class="Symbol">}</a> <a id="766" class="Symbol">{</a><a id="767" href="1Lab.Reflection.html#767" class="Bound">B</a> <a id="769" class="Symbol">:</a> <a id="771" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="776" href="1Lab.Reflection.html#749" class="Bound">ℓ&#39;</a><a id="778" class="Symbol">}</a> <a id="780" class="Symbol">(</a><a id="781" href="1Lab.Reflection.html#781" class="Bound">e</a> <a id="783" class="Symbol">:</a> <a id="785" href="1Lab.Reflection.html#754" class="Bound">A</a> <a data-type="Type ℓ₁ → Type ℓ₂ → Type (ℓ₁ ⊔ ℓ₂)" id="787" href="1Lab.Equiv.html#2442" class="Function Operator">≃</a> <a id="789" href="1Lab.Reflection.html#767" class="Bound">B</a><a id="790" class="Symbol">)</a>
         <a id="801" class="Symbol">→</a> <a id="803" class="Symbol">_</a>
<a data-type="(e : A ≃ B) (x : A) → equiv→inverse (e .snd) (e .fst x) ≡ x" id="805" href="1Lab.Reflection.html#733" class="Function">equivRet</a> <a id="814" class="Symbol">(</a><a id="815" href="1Lab.Reflection.html#815" class="Bound">f</a> <a data-type="(fst₁ : A) (snd₁ : B fst₁) → ∑ A B" id="817" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="819" href="1Lab.Reflection.html#819" class="Bound">e</a><a id="820" class="Symbol">)</a> <a id="822" class="Symbol">=</a> <a data-type="(eqv : isEquiv f) → isLeftInverse (equiv→inverse eqv) f" id="824" href="1Lab.Equiv.html#6622" class="Function">equiv→retraction</a> <a id="841" href="1Lab.Reflection.html#819" class="Bound">e</a>

<a id="newMeta"></a><a data-type="Term → TC Term" id="844" href="1Lab.Reflection.html#844" class="Function">newMeta</a> <a id="852" class="Symbol">:</a> <a data-type="Type" id="854" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="859" class="Symbol">→</a> <a data-type="Type a → Type a" id="861" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a data-type="Type" id="864" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → TC Term" id="869" href="1Lab.Reflection.html#844" class="Function">newMeta</a> <a id="877" class="Symbol">=</a> <a data-type="Term → Type → TC Term" id="879" href="Agda.Builtin.Reflection.html#8530" class="Postulate">checkType</a> <a data-type="Term" id="889" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>

<a id="varg"></a><a data-type="A → Arg A" id="898" href="1Lab.Reflection.html#898" class="Function">varg</a> <a id="903" class="Symbol">:</a> <a id="905" class="Symbol">{</a><a id="906" href="1Lab.Reflection.html#906" class="Bound">ℓ</a> <a id="908" class="Symbol">:</a> <a id="910" class="Symbol">_}</a> <a id="913" class="Symbol">{</a><a id="914" href="1Lab.Reflection.html#914" class="Bound">A</a> <a id="916" class="Symbol">:</a> <a id="918" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="923" href="1Lab.Reflection.html#906" class="Bound">ℓ</a><a id="924" class="Symbol">}</a> <a id="926" class="Symbol">→</a> <a id="928" href="1Lab.Reflection.html#914" class="Bound">A</a> <a id="930" class="Symbol">→</a> <a data-type="Type a → Type a" id="932" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="936" href="1Lab.Reflection.html#914" class="Bound">A</a>
<a data-type="A → Arg A" id="938" href="1Lab.Reflection.html#898" class="Function">varg</a> <a id="943" class="Symbol">=</a> <a data-type="ArgInfo → A → Arg A" id="945" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="949" class="Symbol">(</a><a data-type="Visibility → Modality → ArgInfo" id="950" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">arg-info</a> <a data-type="Visibility" id="959" href="Agda.Builtin.Reflection.html#2763" class="InductiveConstructor">visible</a> <a id="967" class="Symbol">(</a><a data-type="Relevance → Quantity → Modality" id="968" href="Agda.Builtin.Reflection.html#3464" class="InductiveConstructor">modality</a> <a data-type="Relevance" id="977" href="Agda.Builtin.Reflection.html#3020" class="InductiveConstructor">relevant</a> <a data-type="Quantity" id="986" href="Agda.Builtin.Reflection.html#3242" class="InductiveConstructor">quantity-ω</a><a id="996" class="Symbol">))</a>

<a id="vlam"></a><a data-type="String → Term → Term" id="1000" href="1Lab.Reflection.html#1000" class="Function">vlam</a> <a id="1005" class="Symbol">:</a> <a data-type="Type" id="1007" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1014" class="Symbol">→</a> <a data-type="Type" id="1016" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1021" class="Symbol">→</a> <a data-type="Type" id="1023" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="String → Term → Term" id="1028" href="1Lab.Reflection.html#1000" class="Function">vlam</a> <a id="1033" href="1Lab.Reflection.html#1033" class="Bound">nam</a> <a id="1037" href="1Lab.Reflection.html#1037" class="Bound">body</a> <a id="1042" class="Symbol">=</a> <a data-type="Visibility → Abs Term → Term" id="1044" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">lam</a> <a data-type="Visibility" id="1048" href="Agda.Builtin.Reflection.html#2763" class="InductiveConstructor">visible</a> <a id="1056" class="Symbol">(</a><a data-type="String → A → Abs A" id="1057" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">abs</a> <a id="1061" href="1Lab.Reflection.html#1033" class="Bound">nam</a> <a id="1065" href="1Lab.Reflection.html#1037" class="Bound">body</a><a id="1069" class="Symbol">)</a>

<a id="1072" class="Keyword">pattern</a> <a id="_v∷_"></a><a id="1080" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">_v∷_</a> <a id="1085" href="1Lab.Reflection.html#1146" class="Bound">t</a> <a id="1087" href="1Lab.Reflection.html#1150" class="Bound">xs</a> <a id="1090" class="Symbol">=</a> <a data-type="ArgInfo → A → Arg A" id="1092" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="1096" class="Symbol">(</a><a data-type="Visibility → Modality → ArgInfo" id="1097" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">arg-info</a> <a data-type="Visibility" id="1106" href="Agda.Builtin.Reflection.html#2763" class="InductiveConstructor">visible</a> <a id="1114" class="Symbol">(</a><a data-type="Relevance → Quantity → Modality" id="1115" href="Agda.Builtin.Reflection.html#3464" class="InductiveConstructor">modality</a> <a data-type="Relevance" id="1124" href="Agda.Builtin.Reflection.html#3020" class="InductiveConstructor">relevant</a> <a data-type="Quantity" id="1133" href="Agda.Builtin.Reflection.html#3242" class="InductiveConstructor">quantity-ω</a><a id="1143" class="Symbol">))</a> <a id="1146" href="1Lab.Reflection.html#1146" class="Bound">t</a> <a data-type="A → List A → List A" id="1148" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1150" href="1Lab.Reflection.html#1150" class="Bound">xs</a>
<a id="1153" class="Keyword">pattern</a> <a id="_h∷_"></a><a id="1161" href="1Lab.Reflection.html#1161" class="InductiveConstructor Operator">_h∷_</a> <a id="1166" href="1Lab.Reflection.html#1226" class="Bound">t</a> <a id="1168" href="1Lab.Reflection.html#1230" class="Bound">xs</a> <a id="1171" class="Symbol">=</a> <a data-type="ArgInfo → A → Arg A" id="1173" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="1177" class="Symbol">(</a><a data-type="Visibility → Modality → ArgInfo" id="1178" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">arg-info</a> <a data-type="Visibility" id="1187" href="Agda.Builtin.Reflection.html#2771" class="InductiveConstructor">hidden</a> <a id="1194" class="Symbol">(</a><a data-type="Relevance → Quantity → Modality" id="1195" href="Agda.Builtin.Reflection.html#3464" class="InductiveConstructor">modality</a> <a data-type="Relevance" id="1204" href="Agda.Builtin.Reflection.html#3020" class="InductiveConstructor">relevant</a> <a data-type="Quantity" id="1213" href="Agda.Builtin.Reflection.html#3242" class="InductiveConstructor">quantity-ω</a><a id="1223" class="Symbol">))</a> <a id="1226" href="1Lab.Reflection.html#1226" class="Bound">t</a> <a data-type="A → List A → List A" id="1228" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1230" href="1Lab.Reflection.html#1230" class="Bound">xs</a>

<a id="1234" class="Keyword">infixr</a> <a id="1241" class="Number">30</a> <a id="1244" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">_v∷_</a> <a id="1249" href="1Lab.Reflection.html#1161" class="InductiveConstructor Operator">_h∷_</a> 

<a id="“_↦_”"></a><a data-type="Term → Term → Term" id="1256" href="1Lab.Reflection.html#1256" class="Function Operator">“_↦_”</a> <a id="1262" class="Symbol">:</a> <a data-type="Type" id="1264" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1269" class="Symbol">→</a> <a data-type="Type" id="1271" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1276" class="Symbol">→</a> <a data-type="Type" id="1278" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → Term → Term" id="1283" href="1Lab.Reflection.html#1256" class="Function Operator">“_↦_”</a> <a id="1289" href="1Lab.Reflection.html#1289" class="Bound">x</a> <a id="1291" href="1Lab.Reflection.html#1291" class="Bound">y</a> <a id="1293" class="Symbol">=</a> <a data-type="Name → List (Arg Term) → Term" id="1295" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1299" class="Symbol">(</a><a id="1300" class="Keyword">quote</a> <a data-type="Type ℓ → Type ℓ&#39; → Type (ℓ ⊔ ℓ&#39;)" id="1306" href="1Lab.Reflection.html#324" class="Function">Fun</a><a id="1309" class="Symbol">)</a> <a id="1311" class="Symbol">(</a><a id="1312" href="1Lab.Reflection.html#1289" class="Bound">x</a> <a id="1314" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a id="1317" href="1Lab.Reflection.html#1291" class="Bound">y</a> <a id="1319" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a data-type="List A" id="1322" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1324" class="Symbol">)</a>

<a id="“Type”"></a><a data-type="Term → Term" id="1327" href="1Lab.Reflection.html#1327" class="Function">“Type”</a> <a id="1334" class="Symbol">:</a> <a data-type="Type" id="1336" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1341" class="Symbol">→</a> <a data-type="Type" id="1343" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → Term" id="1348" href="1Lab.Reflection.html#1327" class="Function">“Type”</a> <a id="1355" href="1Lab.Reflection.html#1355" class="Bound">l</a> <a id="1357" class="Symbol">=</a> <a data-type="Name → List (Arg Term) → Term" id="1359" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1363" class="Symbol">(</a><a id="1364" class="Keyword">quote</a> <a id="1370" href="1Lab.Type.html#394" class="Primitive">Type</a><a id="1374" class="Symbol">)</a> <a id="1376" class="Symbol">(</a><a id="1377" href="1Lab.Reflection.html#1355" class="Bound">l</a> <a id="1379" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a data-type="List A" id="1382" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1384" class="Symbol">)</a>

<a id="tApply"></a><a data-type="Term → List (Arg Term) → Term" id="1387" href="1Lab.Reflection.html#1387" class="Function">tApply</a> <a id="1394" class="Symbol">:</a> <a data-type="Type" id="1396" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1401" class="Symbol">→</a> <a data-type="Type a → Type a" id="1403" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1408" class="Symbol">(</a><a data-type="Type a → Type a" id="1409" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a data-type="Type" id="1413" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="1417" class="Symbol">)</a> <a id="1419" class="Symbol">→</a> <a data-type="Type" id="1421" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → List (Arg Term) → Term" id="1426" href="1Lab.Reflection.html#1387" class="Function">tApply</a> <a id="1433" href="1Lab.Reflection.html#1433" class="Bound">t</a> <a id="1435" href="1Lab.Reflection.html#1435" class="Bound">l</a> <a id="1437" class="Symbol">=</a> <a data-type="Name → List (Arg Term) → Term" id="1439" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1443" class="Symbol">(</a><a id="1444" class="Keyword">quote</a> <a data-type="A → A" id="1450" href="1Lab.Type.html#2348" class="Function">id</a><a id="1452" class="Symbol">)</a> <a id="1454" class="Symbol">(</a><a id="1455" href="1Lab.Reflection.html#1433" class="Bound">t</a> <a id="1457" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a id="1460" href="1Lab.Reflection.html#1435" class="Bound">l</a><a id="1461" class="Symbol">)</a>

<a id="tStrMap"></a><a data-type="Term → Term → Term" id="1464" href="1Lab.Reflection.html#1464" class="Function">tStrMap</a> <a id="1472" class="Symbol">:</a> <a data-type="Type" id="1474" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1479" class="Symbol">→</a> <a data-type="Type" id="1481" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1486" class="Symbol">→</a> <a data-type="Type" id="1488" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → Term → Term" id="1493" href="1Lab.Reflection.html#1464" class="Function">tStrMap</a> <a id="1501" href="1Lab.Reflection.html#1501" class="Bound">A</a> <a id="1503" href="1Lab.Reflection.html#1503" class="Bound">f</a> <a id="1505" class="Symbol">=</a> <a data-type="Name → List (Arg Term) → Term" id="1507" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1511" class="Symbol">(</a><a id="1512" class="Keyword">quote</a> <a data-type="(P x → Q x) → Σ P → Σ Q" id="1518" href="1Lab.Type.Sigma.html#7759" class="Function">Σ-map₂</a><a id="1524" class="Symbol">)</a> <a id="1526" class="Symbol">(</a><a id="1527" href="1Lab.Reflection.html#1503" class="Bound">f</a> <a id="1529" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a id="1532" href="1Lab.Reflection.html#1501" class="Bound">A</a> <a id="1534" href="1Lab.Reflection.html#1080" class="InductiveConstructor Operator">v∷</a> <a data-type="List A" id="1537" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1539" class="Symbol">)</a>

<a id="tStrProj"></a><a data-type="Term → Name → Term" id="1542" href="1Lab.Reflection.html#1542" class="Function">tStrProj</a> <a id="1551" class="Symbol">:</a> <a data-type="Type" id="1553" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1558" class="Symbol">→</a> <a data-type="Type" id="1560" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="1565" class="Symbol">→</a> <a data-type="Type" id="1567" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a data-type="Term → Name → Term" id="1572" href="1Lab.Reflection.html#1542" class="Function">tStrProj</a> <a id="1581" href="1Lab.Reflection.html#1581" class="Bound">A</a> <a id="1583" href="1Lab.Reflection.html#1583" class="Bound">sfield</a> <a id="1590" class="Symbol">=</a> <a data-type="Term → Term → Term" id="1592" href="1Lab.Reflection.html#1464" class="Function">tStrMap</a> <a id="1600" href="1Lab.Reflection.html#1581" class="Bound">A</a> <a id="1602" class="Symbol">(</a><a data-type="Name → List (Arg Term) → Term" id="1603" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1607" href="1Lab.Reflection.html#1583" class="Bound">sfield</a> <a data-type="List A" id="1614" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1616" class="Symbol">)</a>

<a id="1619" class="Keyword">data</a> <a id="Vec"></a><a data-type="Type ℓ → Nat → Type ℓ" id="1624" href="1Lab.Reflection.html#1624" class="Datatype">Vec</a> <a id="1628" class="Symbol">{</a><a id="1629" href="1Lab.Reflection.html#1629" class="Bound">ℓ</a><a id="1630" class="Symbol">}</a> <a id="1632" class="Symbol">(</a><a id="1633" href="1Lab.Reflection.html#1633" class="Bound">A</a> <a id="1635" class="Symbol">:</a> <a id="1637" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="1642" href="1Lab.Reflection.html#1629" class="Bound">ℓ</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Symbol">:</a> <a data-type="Type" id="1647" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1651" class="Symbol">→</a> <a id="1653" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="1658" href="1Lab.Reflection.html#1629" class="Bound">ℓ</a> <a id="1660" class="Keyword">where</a>
  <a id="Vec.[]"></a><a data-type="Vec A zero" id="1668" href="1Lab.Reflection.html#1668" class="InductiveConstructor">[]</a> <a id="1671" class="Symbol">:</a> <a data-type="Type ℓ → Nat → Type ℓ" id="1673" href="1Lab.Reflection.html#1624" class="Datatype">Vec</a> <a id="1677" href="1Lab.Reflection.html#1633" class="Bound">A</a> <a data-type="Nat" id="1679" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
  <a id="Vec._∷_"></a><a data-type="A → Vec A n → Vec A (suc n)" id="1686" href="1Lab.Reflection.html#1686" class="InductiveConstructor Operator">_∷_</a> <a id="1690" class="Symbol">:</a> <a id="1692" class="Symbol">∀</a> <a id="1694" class="Symbol">{</a><a id="1695" href="1Lab.Reflection.html#1695" class="Bound">n</a><a id="1696" class="Symbol">}</a> <a id="1698" class="Symbol">→</a> <a id="1700" href="1Lab.Reflection.html#1633" class="Bound">A</a> <a id="1702" class="Symbol">→</a> <a data-type="Type ℓ → Nat → Type ℓ" id="1704" href="1Lab.Reflection.html#1624" class="Datatype">Vec</a> <a id="1708" href="1Lab.Reflection.html#1633" class="Bound">A</a> <a id="1710" href="1Lab.Reflection.html#1695" class="Bound">n</a> <a id="1712" class="Symbol">→</a> <a data-type="Type ℓ → Nat → Type ℓ" id="1714" href="1Lab.Reflection.html#1624" class="Datatype">Vec</a> <a id="1718" href="1Lab.Reflection.html#1633" class="Bound">A</a> <a id="1720" class="Symbol">(</a><a data-type="Nat → Nat" id="1721" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1725" href="1Lab.Reflection.html#1695" class="Bound">n</a><a id="1726" class="Symbol">)</a>

<a id="makeVarsFrom"></a><a data-type="Nat → Vec Term n" id="1729" href="1Lab.Reflection.html#1729" class="Function">makeVarsFrom</a> <a id="1742" class="Symbol">:</a> <a id="1744" class="Symbol">{</a><a id="1745" href="1Lab.Reflection.html#1745" class="Bound">n</a> <a id="1747" class="Symbol">:</a> <a data-type="Type" id="1749" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1752" class="Symbol">}</a> <a id="1754" class="Symbol">→</a> <a data-type="Type" id="1756" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1760" class="Symbol">→</a> <a data-type="Type ℓ → Nat → Type ℓ" id="1762" href="1Lab.Reflection.html#1624" class="Datatype">Vec</a> <a data-type="Type" id="1766" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1771" href="1Lab.Reflection.html#1745" class="Bound">n</a>
<a data-type="Nat → Vec Term n" id="1773" href="1Lab.Reflection.html#1729" class="Function">makeVarsFrom</a> <a id="1786" class="Symbol">{</a><a data-type="Nat" id="1787" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1791" class="Symbol">}</a> <a id="1793" href="1Lab.Reflection.html#1793" class="Bound">k</a> <a id="1795" class="Symbol">=</a> <a data-type="Vec A zero" id="1797" href="1Lab.Reflection.html#1668" class="InductiveConstructor">[]</a>
<a data-type="Nat → Vec Term n" id="1800" href="1Lab.Reflection.html#1729" class="Function">makeVarsFrom</a> <a id="1813" class="Symbol">{</a><a data-type="Nat → Nat" id="1814" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1818" href="1Lab.Reflection.html#1818" class="Bound">n</a><a id="1819" class="Symbol">}</a> <a id="1821" href="1Lab.Reflection.html#1821" class="Bound">k</a> <a id="1823" class="Symbol">=</a> <a data-type="Nat → List (Arg Term) → Term" id="1825" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="1829" class="Symbol">(</a><a id="1830" href="1Lab.Reflection.html#1818" class="Bound">n</a> <a data-type="Nat → Nat → Nat" id="1832" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1834" href="1Lab.Reflection.html#1821" class="Bound">k</a><a id="1835" class="Symbol">)</a> <a data-type="List A" id="1837" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a data-type="A → Vec A n → Vec A (suc n)" id="1840" href="1Lab.Reflection.html#1686" class="InductiveConstructor Operator">∷</a> <a id="1842" class="Symbol">(</a><a data-type="Nat → Vec Term n" id="1843" href="1Lab.Reflection.html#1729" class="Function">makeVarsFrom</a> <a id="1856" href="1Lab.Reflection.html#1821" class="Bound">k</a><a id="1857" class="Symbol">)</a>

<a id="iter"></a><a data-type="Nat → (A → A) → A → A" id="1860" href="1Lab.Reflection.html#1860" class="Function">iter</a> <a id="1865" class="Symbol">:</a> <a id="1867" class="Symbol">∀</a> <a id="1869" class="Symbol">{</a><a id="1870" href="1Lab.Reflection.html#1870" class="Bound">ℓ</a><a id="1871" class="Symbol">}</a> <a id="1873" class="Symbol">{</a><a id="1874" href="1Lab.Reflection.html#1874" class="Bound">A</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="1Lab.Type.html#394" class="Primitive">Type</a> <a id="1883" href="1Lab.Reflection.html#1870" class="Bound">ℓ</a><a id="1884" class="Symbol">}</a> <a id="1886" class="Symbol">→</a> <a data-type="Type" id="1888" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1892" class="Symbol">→</a> <a id="1894" class="Symbol">(</a><a id="1895" href="1Lab.Reflection.html#1874" class="Bound">A</a> <a id="1897" class="Symbol">→</a> <a id="1899" href="1Lab.Reflection.html#1874" class="Bound">A</a><a id="1900" class="Symbol">)</a> <a id="1902" class="Symbol">→</a> <a id="1904" href="1Lab.Reflection.html#1874" class="Bound">A</a> <a id="1906" class="Symbol">→</a> <a id="1908" href="1Lab.Reflection.html#1874" class="Bound">A</a>
<a data-type="Nat → (A → A) → A → A" id="1910" href="1Lab.Reflection.html#1860" class="Function">iter</a> <a data-type="Nat" id="1915" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="1920" href="1Lab.Reflection.html#1920" class="Bound">f</a> <a id="1922" class="Symbol">=</a> <a data-type="A → A" id="1924" href="1Lab.Type.html#2348" class="Function">id</a>
<a data-type="Nat → (A → A) → A → A" id="1927" href="1Lab.Reflection.html#1860" class="Function">iter</a> <a id="1932" class="Symbol">(</a><a data-type="Nat → Nat" id="1933" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1937" href="1Lab.Reflection.html#1937" class="Bound">n</a><a id="1938" class="Symbol">)</a> <a id="1940" href="1Lab.Reflection.html#1940" class="Bound">f</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="1Lab.Reflection.html#1940" class="Bound">f</a> <a data-type="(B → C) → (A → B) → A → C" id="1946" href="1Lab.Type.html#2217" class="Function Operator">∘</a> <a data-type="Nat → (A → A) → A → A" id="1948" href="1Lab.Reflection.html#1860" class="Function">iter</a> <a id="1953" href="1Lab.Reflection.html#1937" class="Bound">n</a> <a id="1955" href="1Lab.Reflection.html#1940" class="Bound">f</a>
</pre></body></html>